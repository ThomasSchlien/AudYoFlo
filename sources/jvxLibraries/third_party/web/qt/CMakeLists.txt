set(PROJECT_NAME qt-aqt)
include(${JVX_CMAKE_DIR}/common_local_lib_head.cmake)

if(${JVX_OS} MATCHES "windows")
	set(JVX_QT_VERSION "5.15.2")
	set(JVX_QT_ARCH_TOKEN "win64_msvc2019_64")
	set(JVX_QT_DIR_TOKEN "msvc2019_64")
	if(${JVX_PLATFORM} MATCHES "32bit")
		set(JVX_QT_ARCH_TOKEN "win32_msvc2019")
		set(JVX_QT_DIR_TOKEN "msvc2019")
	endif()
	
	set(QT_CHECK_DIR "${CMAKE_CURRENT_SOURCE_DIR}/qt/${JVX_QT_VERSION}/${JVX_QT_DIR_TOKEN}")
	message("Check directory <${QT_CHECK_DIR}>")
	if(NOT EXISTS ${QT_CHECK_DIR})	
		message("qt sub project not available. Starting script to download it.") 
		execute_process(COMMAND ${mysh} -c "cd ${CMAKE_CURRENT_SOURCE_DIR} ; ./prepareModules-win.sh ${JVX_QT_VERSION} ${JVX_QT_ARCH_TOKEN}; exit")
		message("qt-aqt installation complete.")
	endif()
endif()
